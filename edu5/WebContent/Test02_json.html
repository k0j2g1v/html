<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
	#msg{
		width: 500px;
		height: 300px;
		overflow: scroll;		
	}
	
	table{
		text-align: center;	
	}
</style>


<script>
const log = console.log;
var jdata;
$(function() {
	$('#btn1').click( function() {
		getData();
		
	});	
});

function getData() {
	//$.ajax({ 환경 설정 });
	$.ajax({
		url:'json.jsp',
		dataType: 'json',
		success:function(data){
			//alert(data);
			//log(data)
			jdata = data;
			display(data);
		},
		error:function(e){
			//$('#msg').text(error)
			alert('error'+e.name)
		}
	});
}

function display(data){
	var result ="<table border = 1 width='50%'>";
	result += '<tr><th>name</th><th>id</th></tr>'
	$(data).each(function(index,item) { //index = 배열의 index  item = 자바
		result += "<tr><td>"+item.name+"</td><td>"+item.id+"</td></tr>"
	});
	
	result += '</table>'
	$('#msg').html(result);
}
</script>
<title>jQuery ajax json</title>
</head>
<body>
	<h2>jQuery ajax json</h2>
	<button id= "btn1">Get Data(json)</button>
	<div id = "msg"> </div>
	
	
	
	
	
	
</body>
</html>